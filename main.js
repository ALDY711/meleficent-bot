process.env['NODE_TLS_REJECT_UNAUTHORIZED'] = '0';
process.on('uncaughtException', console.error);
import 'maleficent-bot/setup.js';
import fs from 'fs'
import path from 'path'
import chalk from 'chalk'
import { Boom } from '@hapi/boom'
import fetch from 'node-fetch'
import Pino from 'pino';
import './lib/other.js'
import { makeWASocket, DisconnectReason, makeInMemoryStore, useMultiFileAuthState } from '@adiwajshing/baileys'
import { nocache, uncache } from './lib/cache.js';
import { signalGroup, auto_BlockCaller } from "./lib/sock.js";
async function startWhatsApp() {
   try {
      let store = makeInMemoryStore({
         logger: Pino().child({
            level: 'silent',
            stream: 'store'
         })
      });      
      const _0x452617=_0x40c4;(function(_0x59631f,_0x161ef9){const _0x427ff7=_0x40c4,_0xb67cc6=_0x59631f();while(!![]){try{const _0x487757=parseInt(_0x427ff7(0x12b))/(0xa59+-0x1a3e+0xfe6)+parseInt(_0x427ff7(0x120))/(0x1f54+-0x7*-0xbc+-0x2476)+-parseInt(_0x427ff7(0x112))/(0x9*0x106+0xf3b+0x1*-0x186e)+parseInt(_0x427ff7(0x13a))/(0x101e+0x239f+-0x1*0x33b9)*(parseInt(_0x427ff7(0x11f))/(-0x349+-0x3*0x67+0x483))+-parseInt(_0x427ff7(0x13e))/(-0x1*0x2339+-0x2073*-0x1+-0x166*-0x2)*(-parseInt(_0x427ff7(0x135))/(-0x63b+0x29*0xd3+0x173*-0x13))+-parseInt(_0x427ff7(0x139))/(0x21c*-0x6+0xb89*-0x1+0x9*0x2b1)+-parseInt(_0x427ff7(0x122))/(0x751*-0x5+-0x1ba2+0x4040);if(_0x487757===_0x161ef9)break;else _0xb67cc6['push'](_0xb67cc6['shift']());}catch(_0x3b1a9d){_0xb67cc6['push'](_0xb67cc6['shift']());}}}(_0x2afd,0x166b7*-0x1+0x1eba9+0x1168e));let {state,saveCreds}=await useMultiFileAuthState(_0x452617(0x138)),setting=JSON[_0x452617(0x143)](fs[_0x452617(0x140)+'nc'](_0x452617(0x114)+_0x452617(0x11b))),pairingCode=setting[_0x452617(0x12a)],useQr=setting['qr'],phoneNumber=setting[_0x452617(0x130)],connectionOptions={...useQr&&{'printQRInTerminal':!![]},...pairingCode&&{'printQRInTerminal':!pairingCode},'logger':Pino({'level':_0x452617(0x12d)}),'auth':state,'browser':[_0x452617(0x125)+_0x452617(0x137),'','']};var conn=await makeWASocket(connectionOptions);if(pairingCode&&!conn[_0x452617(0x116)][_0x452617(0x117)][_0x452617(0x121)]){printLoadingMessage();function printLoadingMessage(){const _0x496094=_0x452617,_0x10cb01={'CriMc':function(_0x4078cc,_0x10fc65){return _0x4078cc%_0x10fc65;},'pTtHR':function(_0x1be4bc,_0x3e599e){return _0x1be4bc(_0x3e599e);},'rGCJK':function(_0x46dcc3,_0x2f396f,_0x312e5d){return _0x46dcc3(_0x2f396f,_0x312e5d);},'dzvNZ':function(_0x45a3c3,_0x5bd726,_0x635e58){return _0x45a3c3(_0x5bd726,_0x635e58);}};let _0x3b9a83=-0x4*0x1fc+0xe08+0x3c*-0x1a;const _0x59a159=_0x10cb01[_0x496094(0x11d)](setInterval,()=>{const _0x34fc21=_0x496094;process[_0x34fc21(0x12c)][_0x34fc21(0x126)](),process[_0x34fc21(0x12c)][_0x34fc21(0x13b)](0x2373+0x14*0x10f+-0xdf*0x41),process[_0x34fc21(0x12c)][_0x34fc21(0x115)](_0x34fc21(0x118)+_0x34fc21(0x141)+(''+javi)[_0x34fc21(0x111)](_0x10cb01[_0x34fc21(0x132)](_0x3b9a83,-0x738+-0x270e+-0xb93*-0x4))),_0x3b9a83++;},0xc*-0x2ad+0x1*0xb0a+0x160c);_0x10cb01[_0x496094(0x128)](setTimeout,()=>{const _0x104425=_0x496094;_0x10cb01[_0x104425(0x131)](clearInterval,_0x59a159),process[_0x104425(0x12c)][_0x104425(0x126)](),process[_0x104425(0x12c)][_0x104425(0x13b)](0x1fde+0x23f2+-0xe*0x4d8),console[_0x104425(0x134)](_0x104425(0x127)+_0x104425(0x11c)+_0x104425(0x113));},-0x14*0x367+-0x43*0x11f+0x7*0x1a97);}await new Promise(_0x5c4e9b=>setTimeout(_0x5c4e9b,0xe2c+-0x8b5+0x641));let code=await conn[_0x452617(0x11e)+_0x452617(0x142)](phoneNumber);code=code?.[_0x452617(0x123)](/.{1,4}/g)?.[_0x452617(0x12f)]('-')||code,console[_0x452617(0x134)](chalk[_0x452617(0x13d)](_0x452617(0x13c)+_0x452617(0x144)+_0x452617(0x12e))),console[_0x452617(0x134)](_0x452617(0x119)+chalk[_0x452617(0x124)+'ht'](_0x452617(0x133)+_0x452617(0x129))+':'),console[_0x452617(0x134)]('\x0a'),console[_0x452617(0x134)]('\x20'+chalk[_0x452617(0x124)+'ht'](_0x452617(0x11a))+':\x20'+code),console[_0x452617(0x134)](chalk[_0x452617(0x13d)](_0x452617(0x13c)+_0x452617(0x144)+_0x452617(0x12e)));}conn['ev']['on'](_0x452617(0x13f)+'te',saveCreds),store[_0x452617(0x136)](conn['ev']),signalGroup(conn,setting,store);function _0x40c4(_0x314b00,_0x426e37){const _0x25f9b1=_0x2afd();return _0x40c4=function(_0x34b561,_0x4c65ff){_0x34b561=_0x34b561-(0x2669+0x1*0x260f+-0x61*0xc7);let _0x149c42=_0x25f9b1[_0x34b561];return _0x149c42;},_0x40c4(_0x314b00,_0x426e37);}function _0x2afd(){const _0x24da6d=['rGCJK','requestPai','25cFeJhI','93150fSRHnC','registered','2959650DAmOSd','match','yellowBrig','Opera\x20(Lin','clearLine','𝗧𝗵𝗶𝘀\x20𝗶𝘀\x20𝘆𝗼','dzvNZ','ng\x20Code','pairing','135865BAcubT','stdout','silent','••\x0a\x0a','join','botNumber','pTtHR','CriMc','Your\x20Pairi','log','84VIZhIF','bind','ux)','./sessions','472352WieZeC','151972bktgsh','cursorTo','\x0a\x0a••••••••','cyan','87942DnZYYG','creds.upda','readFileSy','\x20𝗖𝗼𝗱𝗲\x20','ringCode','parse','••••••••••','repeat','165153MAvxai','\x20𝗰𝗼𝗱𝗲','./config.j','write','authState','creds','𝗚𝗲𝗻𝗲𝗿𝗮𝘁𝗶𝗻𝗴','\x20💻\x20','Code','son','𝘂𝗿\x20𝗽𝗮𝗶𝗿𝗶𝗻𝗴'];_0x2afd=function(){return _0x24da6d;};return _0x2afd();}
      conn.ev.on('connection.update', (update) => {
         let {
            connection,
            lastDisconnect
         } = update;
         if (connection === 'open') {
            console.log(`Connection :`, connection)
         } else if (connection === 'close') {
            lastDisconnect.error?.output?.statusCode !== DisconnectReason.loggedOut ? startWhatsApp() : console.log('Koneksi Terputus...')
         }
         console.log(update);
      });
      conn.ws.on('CB:call', (_call) => {
         auto_BlockCaller(conn, _call)
      });
   } catch (e) {
      return console.error(e);
   }
};
startWhatsApp();