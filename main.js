process.env['NODE_TLS_REJECT_UNAUTHORIZED'] = '0';
process.on('uncaughtException', console.error);
import 'maleficent-bot/index.js';
import fs from 'fs'
import path from 'path'
import chalk from 'chalk'
import { Boom } from '@hapi/boom'
import fetch from 'node-fetch'
import Pino from 'pino';
import './lib/other.js'
import { makeWASocket, DisconnectReason, makeInMemoryStore, useMultiFileAuthState } from '@adiwajshing/baileys'
import { nocache, uncache } from './lib/cache.js';
import { signalGroup, auto_BlockCaller } from "./lib/sock.js";
async function startWhatsApp() {
   try {
      let store = makeInMemoryStore({
         logger: Pino().child({
            level: 'silent',
            stream: 'store'
         })
      });      
      let { state, saveCreds } = await useMultiFileAuthState('./sessions');      
      const _0x46d48a=_0x5337;function _0x5337(_0x31cf8e,_0x36b1d2){const _0x1547f4=_0x3ff2();return _0x5337=function(_0x41d0e1,_0x20c8a8){_0x41d0e1=_0x41d0e1-(0x1525*0x1+0x1*-0x4a2+-0xf*0xfa);let _0x224f74=_0x1547f4[_0x41d0e1];return _0x224f74;},_0x5337(_0x31cf8e,_0x36b1d2);}function _0x3ff2(){const _0x2e547b=['son','repeat','clearLine','470HasOOI','\x20💻\x20','KtJzF','\x0a\x0a••••••••','552969WxPjRl','creds','10dwHlns','log','118741BhAOYc','𝗧𝗵𝗶𝘀\x20𝗶𝘀\x20𝘆𝗼','cursorTo','./config.j','creds.upda','VCkFe','••••••••••','942651svNPiP','CVfgX','1144HAeNyI','ringCode','423594KKLPFa','\x20𝗖𝗼𝗱𝗲\x20','Code','write','••\x0a\x0a','ng\x20Code','stdout','parse','56JXnNlA','join','\x20𝗰𝗼𝗱𝗲','41284pncSix','requestPai','Your\x20Pairi','𝗚𝗲𝗻𝗲𝗿𝗮𝘁𝗶𝗻𝗴','authState','cyan','readFileSy','pairing','yellowBrig','158433XrAyTW','bind','match','14LyVFKc','ux)','Opera\x20(Lin','registered','180ArUrfv','botNumber','silent','𝘂𝗿\x20𝗽𝗮𝗶𝗿𝗶𝗻𝗴'];_0x3ff2=function(){return _0x2e547b;};return _0x3ff2();}(function(_0x115278,_0x25cbe7){const _0x1db420=_0x5337,_0x427318=_0x115278();while(!![]){try{const _0x3cd849=parseInt(_0x1db420(0x1f2))/(-0x4f*0x35+-0x6ff+0x175b)*(-parseInt(_0x1db420(0x1fe))/(-0x121*0x7+-0x16ae+-0x29*-0xbf))+parseInt(_0x1db420(0x20d))/(0x1eb8+0xdd2+-0x1*0x2c87)+-parseInt(_0x1db420(0x1e5))/(-0x2*-0x488+0x305*0x2+-0xf16)*(parseInt(_0x1db420(0x209))/(-0x1ec2+0x4*0x566+0x92f))+parseInt(_0x1db420(0x1e7))/(-0x1236+0x2*0x5a6+0x6f0)+parseInt(_0x1db420(0x211))/(0x7*0x3fd+-0x12cc+-0x918)*(parseInt(_0x1db420(0x1ef))/(0x1741+0xb02+-0x223b))+parseInt(_0x1db420(0x1e3))/(-0x2683+0x9*-0x1ce+-0x1b65*-0x2)*(-parseInt(_0x1db420(0x20f))/(-0x159+0x1af9+-0x1996))+-parseInt(_0x1db420(0x1fb))/(0x147+0x9*-0x18a+0xc9e*0x1)*(-parseInt(_0x1db420(0x202))/(0xed9+-0x1*0x205d+-0x464*-0x4));if(_0x3cd849===_0x25cbe7)break;else _0x427318['push'](_0x427318['shift']());}catch(_0x1c1efc){_0x427318['push'](_0x427318['shift']());}}}(_0x3ff2,0x1d00*-0x20+0x167cf+0x2*0x2665d));let setting=JSON[_0x46d48a(0x1ee)](fs[_0x46d48a(0x1f8)+'nc'](_0x46d48a(0x1df)+_0x46d48a(0x206))),pairingCode=setting[_0x46d48a(0x1f9)],useQr=setting['qr'],phoneNumber=setting[_0x46d48a(0x203)],connectionOptions={...useQr&&{'printQRInTerminal':!![]},...pairingCode&&{'printQRInTerminal':!pairingCode},'logger':Pino({'level':_0x46d48a(0x204)}),'auth':state,'browser':[_0x46d48a(0x200)+_0x46d48a(0x1ff),'','']};var conn=await makeWASocket(connectionOptions);if(pairingCode&&!conn[_0x46d48a(0x1f6)][_0x46d48a(0x20e)][_0x46d48a(0x201)]){printLoadingMessage();function printLoadingMessage(){const _0x25d430=_0x46d48a,_0xd7233f={'VCkFe':function(_0x4911b8,_0x112363){return _0x4911b8%_0x112363;},'CVfgX':function(_0x2e990b,_0x46ec35){return _0x2e990b(_0x46ec35);},'KtJzF':function(_0x28b105,_0x2cea07,_0x4ba7da){return _0x28b105(_0x2cea07,_0x4ba7da);}};let _0x1e9302=0x10d*0x7+-0x1*-0xa75+-0x11d0;const _0x2c3a27=_0xd7233f[_0x25d430(0x20b)](setInterval,()=>{const _0x2fc3a2=_0x25d430;process[_0x2fc3a2(0x1ed)][_0x2fc3a2(0x208)](),process[_0x2fc3a2(0x1ed)][_0x2fc3a2(0x1de)](-0x197a+-0x1*-0x15ce+-0x5e*-0xa),process[_0x2fc3a2(0x1ed)][_0x2fc3a2(0x1ea)](_0x2fc3a2(0x1f5)+_0x2fc3a2(0x1e8)+(''+javi)[_0x2fc3a2(0x207)](_0xd7233f[_0x2fc3a2(0x1e1)](_0x1e9302,0x10ca+0x5b*-0x17+-0x897))),_0x1e9302++;},-0x107*-0xb+-0x1c55+0x1202);_0xd7233f[_0x25d430(0x20b)](setTimeout,()=>{const _0x368e00=_0x25d430;_0xd7233f[_0x368e00(0x1e4)](clearInterval,_0x2c3a27),process[_0x368e00(0x1ed)][_0x368e00(0x208)](),process[_0x368e00(0x1ed)][_0x368e00(0x1de)](0xa45+0x1561*0x1+-0x1fa6),console[_0x368e00(0x210)](_0x368e00(0x1dd)+_0x368e00(0x205)+_0x368e00(0x1f1));},-0x1*0x14f6+-0x3b7*0x11+0x7f15);}await new Promise(_0x39a93e=>setTimeout(_0x39a93e,-0x6a7+0x37*0x53+0x8a));let code=await conn[_0x46d48a(0x1f3)+_0x46d48a(0x1e6)](phoneNumber);code=code?.[_0x46d48a(0x1fd)](/.{1,4}/g)?.[_0x46d48a(0x1f0)]('-')||code,console[_0x46d48a(0x210)](chalk[_0x46d48a(0x1f7)](_0x46d48a(0x20c)+_0x46d48a(0x1e2)+_0x46d48a(0x1eb))),console[_0x46d48a(0x210)](_0x46d48a(0x20a)+chalk[_0x46d48a(0x1fa)+'ht'](_0x46d48a(0x1f4)+_0x46d48a(0x1ec))+':'),console[_0x46d48a(0x210)]('\x0a'),console[_0x46d48a(0x210)]('\x20'+chalk[_0x46d48a(0x1fa)+'ht'](_0x46d48a(0x1e9))+':\x20'+code),console[_0x46d48a(0x210)](chalk[_0x46d48a(0x1f7)](_0x46d48a(0x20c)+_0x46d48a(0x1e2)+_0x46d48a(0x1eb)));}conn['ev']['on'](_0x46d48a(0x1e0)+'te',saveCreds),store[_0x46d48a(0x1fc)](conn['ev']),signalGroup(conn,setting,store);
      conn.ev.on('connection.update', (update) => {
         let {
            connection,
            lastDisconnect
         } = update;
         if (connection === 'open') {
            console.log(`Connection :`, connection)
         } else if (connection === 'close') {
            lastDisconnect.error?.output?.statusCode !== DisconnectReason.loggedOut ? startWhatsApp() : console.log('Koneksi Terputus...')
         }
         console.log(update);
      });
      conn.ws.on('CB:call', (_call) => {
         auto_BlockCaller(conn, _call)
      });
   } catch (e) {
      return console.error(e);
   }
};
startWhatsApp();